# Configuration

The following table lists the configurable parameters of the chart and their default values.

| Parameter                                  | Description                                                                                                                                | Default                                                                                                                                                                                                                                                                                                                                                                                                          |
| :----------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `replicaCount`                             | k8s replicas                                                                                                                               | `2`                                                                                                                                                                                                                                                                                                                                                                                                              |
| `image.pullPolicy`                         | Container pull policy                                                                                                                      | `IfNotPresent`                                                                                                                                                                                                                                                                                                                                                                                                   |
| `image.repository`                         | Container image to use                                                                                                                     | `outscale/osc-ebs-csi-driver`                                                                                                                                                                                                                                                                                                                                                                                    |
| `image.tag`                                | Container image tag to deploy                                                                                                              | `v0.1.0`                                                                                                                                                                                                                                                                                                                                                                                                    |
| `imagePullSecrets`                         | Specify image pull secrets                                                                                                                 | `[]` (does not add image pull secrets to deployed pods)                                                                                                                                                                                                                                                                                                                                                          |
| `verbosity`                                | Verbosity level of plugins                                                                                                                 | `10` (âš  debug verbosity)                                                                                                                                                                                                                                                                                                                                                                                         |
| `timeout`                                  | Timeout for sidecars                                                                                                                       | `60s`                                                                                                                                                                                                                                                                                                                                                                                                            |
| `backoff.duration`                         | Initial duraction of backoff                                                                                                               | `1`                                                                                                                                                                                                                                                                                                                                                                                                              |
| `backoff.factor`                           | factor multiplied by Duration for each iteration                                                                                           | `1.9`                                                                                                                                                                                                                                                                                                                                                                                                            |
| `backoff.steps`                            | remaining number of iterations in which the duration parameter may change                                                                  | `20`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `sidecars.<sidecars-name>Image.repository` | side-cars image to use between <br /> (`provisioner`, `attacher`, `snapshotter`, `livenessProbe`, `resizer`, `nodeDriverRegistrar`)        | - `provisioner` = `k8s.gcr.io/sig-storage/csi-provisioner` <br /> - `attacher` = `k8s.gcr.io/sig-storage/csi-attacher` <br />  - `snapshotter` = `k8s.gcr.io/sig-storage/csi-snapshotter` <br /> - `livenessProbe` = `k8s.gcr.io/sig-storage/livenessProbe` <br /> - `resizer` = `k8s.gcr.io/sig-storage/csi-resizer` <br /> - `nodeDriverRegistrar` = `k8s.gcr.io/sig-storage/csi-node-driver-registrar` <br /> |
| `sidecars.<sidecars-name>Image.tag`        | side-cars image tag to deploy between <br /> (`provisioner`, `attacher`, `snapshotter`, `livenessProbe`, `resizer`, `nodeDriverRegistrar`) | - `provisioner` = `v2.1.1` <br /> - `attacher` = `v3.1.0` <br />  - `snapshotter` = `v3.0.3` <br /> - `livenessProbe` = `v2.2.0` <br /> - `resizer` = `v1.0.0` <br /> - `nodeDriverRegistrar` = `v2.1.0` <br />                                                                                                                                                                                                  |
| `sidecars.<sidecars-name>Image.enableHttpEndpoint`        | enable http endpoint for the side-cars between <br /> (`provisioner`, `attacher`, `snapshotter`, `resizer`, `nodeDriverRegistrar`) | `false`                                                                                                                                                                                                  |
| `sidecars.<sidecars-name>Image.httpEndpointPort`        | http endpoint port for the side-cars between <br /> (`provisioner`, `attacher`, `snapshotter`, `resizer`, `nodeDriverRegistrar`) | - `provisioner` = `8089` <br /> - `attacher` = `8090` <br />  - `snapshotter` = `8091` <br /> - `resizer` = `8092` <br /> - `nodeDriverRegistrar` = `8093` <br />                                                                                                                                                                                                  |
| `sidecars.<sidecars-name>Image.enableLivenessProbe`        | enable liveness probe for the side-cars between <br /> (`provisioner`, `attacher`, `snapshotter`, `resizer`, `nodeDriverRegistrar`) | `false`                                                                                                                                                                                                  |
| `nameOverride`                             | Override name of the app (instead of `osc-bsu-csi-driver`)                                                                                 | `""`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `fullnameOverride`                         | Override fullname of the app (not use right now)                                                                                           | `""`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `enableVolumeScheduling`                   | Enable schedule volume for dynamic volume provisioning                                                                                     | `false`                                                                                                                                                                                                                                                                                                                                                                                                          |
| `enableVolumeResizing`                     | Enable volume resizing                                                                                                                     | `false`                                                                                                                                                                                                                                                                                                                                                                                                          |
| `enableVolumeSnapshot`                     | Enable volume snapshot                                                                                                                     | `false`                                                                                                                                                                                                                                                                                                                                                                                                          |
| `extraVolumeTags`                          | Add extra tags on volume                                                                                                                   | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `extraCreateMetadata`                      | Add pv/pvc metadata to plugin create requests as parameters                                                                                | `false`                                                                                                                                                                                                                                                                                                                                                                                                          |
| `region`                                   | Region to use, otherwise it will be looked up via metadata. By providing this patameter, the controller will not require to access the metadata.                                                                              | `""`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `maxBsuVolumes`                            | Maximum volume to attach to a node (see [Docs](https://docs.outscale.com/en/userguide/About-Volumes.html))                                 | `25`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `resources.limits.cpu`                     | Container requested CPU                                                                                                                    | `nil`                                                                                                                                                                                                                                                                                                                                                                                                            |
| `resources.limits.memory`                  | Container requested memory                                                                                                                 | `nil`                                                                                                                                                                                                                                                                                                                                                                                                            |
| `affinity`                                 | affinity settings                                                                                                                          | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `podAnnotations`                           | Annotations for controller pod                                                                                                             | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `podLabels`                                | Labels for controller pod                                                                                                                  | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `tolerations`                              | pod tolerations                                                                                                                            | `[]`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `tolerationAllTaints`                      | Not used                                                                                                                                   | `true`                                                                                                                                                                                                                                                                                                                                                                                                           |
| `nodeSelector`                             | node labels for pod assignment                                                                                                             | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `node.podAnnotations`                      | Annotations for controller pod                                                                                                             | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `node.podLabels`                           | Labels for controller pod                                                                                                                  | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `node.tolerationAllTaints`                 | Not used                                                                                                                                   | `true`                                                                                                                                                                                                                                                                                                                                                                                                           |
| `node.tolerations`                         | pod tolerations                                                                                                                            | `[]`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `serviceAccount.controller.annotations`    | Annotations to add to the Controller ServiceAccount                                                                                        | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `serviceAccount.snapshot.annotations`      | Annotations to add to the Snapshot ServiceAccount                                                                                          | `{}`                                                                                                                                                                                                                                                                                                                                                                                                             |
| `credentials.secretName`                   | Use AK/SK from this secret                                                                                                                 | `osc-csi-bsu`                                                                                                                                                                                                                                                                                                                                                                                                    |
| `credentials.create`                       | Actually create a secret in the deployment for AK/SK (else, only reference it)                                                             | `false`                                                                                                                                                                                                                                                                                                                                                                                                          |
| `credentials.accessKey`                    | If creating a secret, put this AK inside.                                                                                                  | `nil`                                                                                                                                                                                                                                                                                                                                                                                                            |
| `credentials.secretKey`                    | If creating a secret, put this SK inside.                                                                                                  | `nil`                                                                                                                                                                                                                                                                                                                                                                                                            |
| `csiDriver.fsGroupPolicy`                  | Policy of the FileSystem (see [Docs](https://kubernetes-csi.github.io/docs/support-fsgroup.html#supported-modes))                          | `File`                                                                                                                                                                                                                                                                                                                                                                                                           |
| `defaultFsType`                            | Default FSType of the disk                                                                                                                 | `ext4`                                                                                                                                                                                                                                                                                                                                                                                                             |
